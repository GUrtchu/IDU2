<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Satellite Launch to Mars</title>
<link href="https://fonts.googleapis.com/css2?family=Urbanist:wght@400;700;800&display=swap" rel="stylesheet">
<style>
  html,body{
    margin:0;height:100%;
    font-family:'Urbanist',sans-serif;
    background:radial-gradient(ellipse at top,#0b1330,#02040b);
    overflow:hidden;
  }

  /* Gradient stars background (subtle) */
  .stars{
    position:fixed;inset:0;z-index:-3;
    background:
      radial-gradient(1px 1px at 5% 15%,#ffffff,#0000),
      radial-gradient(1px 1px at 20% 80%,#ffffff,#0000),
      radial-gradient(1px 1px at 60% 70%,#ffffff,#0000),
      radial-gradient(2px 2px at 80% 20%,#ffffff80,#0000),
      radial-gradient(2px 2px at 30% 90%,#ffffff80,#0000),
      radial-gradient(1px 1px at 40% 30%,#ffffff,#0000),
      radial-gradient(1px 1px at 85% 60%,#ffffff,#0000),
      radial-gradient(1px 1px at 15% 95%,#ffffff,#0000),
      radial-gradient(circle at 70% 40%,#a78bfa15,#0000 60%),
      radial-gradient(circle at 30% 70%,#0ea5e915,#0000 60%);
    background-size:200px 200px;
    animation:drift 240s linear infinite;
    filter:drop-shadow(0 0 3px #fff4);
  }
  @keyframes drift{to{transform:translateX(200px)}}

  /* Extra starfield container */
  .starfield{position:fixed;inset:0;z-index:-4;overflow:hidden}
  .star{position:absolute;border-radius:50%;background:#fff;opacity:0;animation:twinkle 4s ease-in-out infinite}
  @keyframes twinkle{0%,100%{opacity:.1;transform:scale(.7)}50%{opacity:1;transform:scale(1)}}

  .scene{position:relative;width:100vw;height:100vh}

  /* Satellite */
  .sat{
    position:absolute;width:90px;height:90px;z-index:1;
    filter:drop-shadow(0 0 15px #7dd3fc) drop-shadow(0 0 30px #60a5fa) drop-shadow(0 0 5px #fff);
    offset-path:path("M 50 700 C 250 520, 520 520, 780 560 S 1100 600, 1350 420");
    offset-distance:0%;
    offset-rotate:auto 0deg;
    offset-anchor:50% 50%;
    transform-origin:center;
    opacity:0;
    transition:opacity .5s ease, offset-distance 6s cubic-bezier(.25,.8,.25,1);
  }
  .sat.show{opacity:1}
  .sat.go{offset-distance:100%}
  .sat svg{width:100%;height:100%;display:block}
  .sat.go svg{animation:satellitePulse 2s ease-in-out infinite}
  @keyframes satellitePulse{0%,100%{filter:brightness(1)}50%{filter:brightness(1.3)}}

  /* Planet - Earth */
  .planet{
    position:absolute;width:120px;height:120px;border-radius:50%;
    background:
      radial-gradient(circle at 35% 30%,#fff4,#0000),
      radial-gradient(circle at 20% 60%,#10b981,#0000 30%),
      radial-gradient(circle at 70% 40%,#059669,#0000 25%),
      radial-gradient(circle at 60% 80%,#047857,#0000 20%),
      radial-gradient(#3b82f6,#1e40af);
    box-shadow:0 0 30px #3b82f644,0 0 60px #1e40af22,inset 0 0 20px #ffffff11;
    top:40%;left:80%;transform:translate(-50%,-50%);
    opacity:0;transition:opacity 1.8s ease;animation:planetRotate 20s linear infinite;
  }
  .planet.show{opacity:1}
  .planet::before{content:'';position:absolute;inset:-10px;border-radius:50%;background:radial-gradient(circle,#3b82f622,#0000 70%);animation:planetGlow 3s ease-in-out infinite alternate}
  
  /* Planet - Mars */
  .planet.mars{
    background:
      radial-gradient(circle at 35% 30%,#fff2,#0000),
      radial-gradient(circle at 20% 60%,#dc2626,#0000 30%),
      radial-gradient(circle at 70% 40%,#b91c1c,#0000 25%),
      radial-gradient(circle at 60% 80%,#991b1b,#0000 20%),
      radial-gradient(#ef4444,#dc2626);
    box-shadow:0 0 30px #dc262644,0 0 60px #dc262622,inset 0 0 20px #ffffff08;
  }
  .planet.mars::before{background:radial-gradient(circle,#dc262622,#0000 70%)}
  
  /* Planet - Jupiter */
  .planet.jupiter{
    background:
      /* Great Red Spot */
      radial-gradient(ellipse 25px 15px at 70% 60%,#dc2626,#0000 70%),
      /* Horizontal bands - alternating white/light brown only */
      linear-gradient(0deg,
        #d4a574 0%, #ffffff 8%,
        #c4956a 12%, #f8fafc 20%,
        #d4a574 24%, #ffffff 32%,
        #c4956a 36%, #f8fafc 44%,
        #d4a574 48%, #ffffff 56%,
        #c4956a 60%, #f8fafc 68%,
        #d4a574 72%, #ffffff 80%,
        #c4956a 84%, #f8fafc 92%,
        #d4a574 96%, #ffffff 100%
      ),
      /* Base atmosphere color */
      radial-gradient(circle at 30% 30%,#fbbf24,#d97706);
    box-shadow:0 0 35px #f59e0b55,0 0 70px #d9770633,inset 0 0 25px #ffffff08;
  }
  .planet.jupiter::before{background:radial-gradient(circle,#f59e0b33,#0000 70%)}
  .planet.jupiter::after{
    content:'';position:absolute;inset:0;border-radius:50%;
    background:
      /* Additional swirls and turbulence */
      radial-gradient(ellipse 15px 8px at 30% 40%,#fbbf2444,#0000),
      radial-gradient(ellipse 12px 6px at 80% 30%,#92400e66,#0000),
      radial-gradient(ellipse 10px 18px at 25% 70%,#d9770655,#0000);
  }
  
  @keyframes planetRotate{to{transform:translate(-50%,-50%) rotate(360deg)}}
  @keyframes planetGlow{to{box-shadow:0 0 40px #3b82f666}}

  /* Flame Trail */
  .flame{position:fixed;top:0;left:0;pointer-events:none;z-index:2}
  .flame i{
    position:absolute;width:4px;height:4px;border-radius:50%;
    background:radial-gradient(circle,#7dd3fc,#60a5fa);
    box-shadow:0 0 8px #7dd3fc;
    animation:trailParticle .7s ease-out forwards;
  }
  @keyframes trailParticle{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.2) translateY(15px)}}

  /* Text */
  .text{position:absolute;opacity:0;transition:opacity .9s ease;text-shadow:0 0 20px currentColor}
  .text.show{opacity:1;animation:textGlow 4s ease-in-out infinite alternate}
  .launch-text{
    position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);
    color:#7dd3fc;font-size:2.5rem;font-weight:800;text-shadow:0 0 30px currentColor;
    animation:launchTextGlow 3s ease-in-out infinite alternate;opacity:1;transition:opacity 1s ease;
  }
  .launch-text.hide{opacity:0}
  @keyframes launchTextGlow{to{text-shadow:0 0 40px currentColor,0 0 50px currentColor}}
  @keyframes textGlow{to{text-shadow:0 0 25px currentColor,0 0 35px currentColor}}

  /* Button pinned to bottom */
  .btn{
    position:fixed;bottom:20px;left:50%;transform:translateX(-50%);
    padding:16px 24px;border:none;border-radius:14px;font-weight:800;cursor:pointer;
    background:linear-gradient(180deg,#38bdf8,#2563eb);color:#03111d;font-size:1.2rem;
    box-shadow:0 10px 30px #0008,0 0 40px #38bdf855 inset,0 0 20px #38bdf844;
    transition:all .3s cubic-bezier(.4,0,.2,1);overflow:hidden;z-index:5;
  }
  .btn:hover{transform:translateX(-50%) translateY(-3px) scale(1.05);box-shadow:0 15px 40px #000a,0 0 50px #38bdf866 inset,0 0 30px #38bdf866}
  .btn:disabled{opacity:.7;cursor:not-allowed;transform:translateX(-50%) scale(.95)}
  .btn::before{content:'';position:absolute;inset:0;background:linear-gradient(45deg,#0000,#fff4,#0000);transform:translateX(-100%);transition:transform .6s}
  .btn:hover::before{transform:translateX(100%)}

  /* Countdown overlay */
  .countdown{
    position:fixed;inset:0;display:grid;place-items:center;z-index:6;pointer-events:none;
    font-weight:800;font-size:min(18vmin,160px);letter-spacing:2px;color:#eaf2ff;
    text-shadow:0 8px 60px #000a,0 0 80px #38bdf877;opacity:0;transition:opacity .2s;
  }
  .countdown.show{opacity:1}

  /* Camera shake */
  .shake{animation:shake .8s ease-out}
  @keyframes shake{
    10%{transform:translate(1px,2px)}20%{transform:translate(-2px,1px)}
    30%{transform:translate(2px,-1px)}40%{transform:translate(-1px,-2px)}
    50%{transform:translate(1px,2px)}60%{transform:translate(-2px,1px)}
    70%{transform:translate(1px,-1px)}80%{transform:translate(-1px,2px)}
    100%{transform:none}
  }

  /* HUD telemetry */
  .hud{
    position:fixed;right:16px;top:16px;min-width:220px;z-index:5;
    backdrop-filter:blur(6px);background:#0b1222b0;color:#cfe0ff;border:1px solid #ffffff25;border-radius:14px;padding:12px;
  }
  .hud h3{margin:0 0 8px;font-size:14px;letter-spacing:.8px;text-transform:uppercase;color:#93c5fd}
  .metric{display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px dashed #ffffff18}
  .metric:last-child{border-bottom:none}
  .status{display:inline-block;margin-top:8px;padding:6px 10px;border-radius:999px;border:1px solid #10b98155;background:#10b98122;color:#a7f3d0;font-weight:800;font-size:12px}

  /* Mission indicator */
  .mission{
    position:fixed;left:16px;top:16px;min-width:200px;z-index:5;
    backdrop-filter:blur(6px);background:#0b1222b0;color:#cfe0ff;border:1px solid #ffffff25;border-radius:14px;padding:12px;
  }
  .mission h3{margin:0 0 8px;font-size:14px;letter-spacing:.8px;text-transform:uppercase;color:#93c5fd}
  .destination{display:inline-block;padding:6px 12px;border-radius:999px;font-weight:800;font-size:14px;
    border:1px solid #3b82f655;background:#3b82f622;color:#93c5fd;}
  .destination.mars{border-color:#dc262655;background:#dc262622;color:#fca5a5;}
  .destination.jupiter{border-color:#f59e0b55;background:#f59e0b22;color:#fbbf24;}
</style>
</head>
<body>

<div class="countdown" id="count">3</div>

<aside class="mission" id="mission">
  <h3>Mission Control</h3>
  <div style="margin-bottom:8px;">Target:</div>
  <span class="destination" id="destination">üåç Earth</span>
  <div style="margin-top:8px;font-size:12px;opacity:0.8;" id="missionCount">Mission #1</div>
</aside>

<aside class="hud" id="hud">
  <h3>Telemetry</h3>
  <div class="metric"><span>Altitude</span><strong><span id="mAlt">0</span> km</strong></div>
  <div class="metric"><span>Velocity</span><strong><span id="mVel">0.0</span> km/s</strong></div>
  <div class="metric"><span>Temp</span><strong><span id="mTmp">260</span> K</strong></div>
  <div class="metric"><span>Signal</span><strong><span id="mSig">0%</span></strong></div>
  <span class="status" id="mStat">Ready</span>
</aside>

<div class="starfield" id="starfield"></div>
<div class="stars"></div>

<div class="scene" id="scene">
  <div class="sat" id="sat">
    <!-- satellite SVG -->
    <svg viewBox="0 0 64 64" aria-label="satellite">
      <defs>
        <linearGradient id="metal" x1="0" x2="1">
          <stop offset="0%" stop-color="#cbd5e1"/>
          <stop offset="50%" stop-color="#e2e8f0"/>
          <stop offset="100%" stop-color="#94a3b8"/>
        </linearGradient>
        <linearGradient id="panel" x1="0" x2="1">
          <stop offset="0%" stop-color="#1e293b"/>
          <stop offset="50%" stop-color="#334155"/>
          <stop offset="100%" stop-color="#0f172a"/>
        </linearGradient>
      </defs>
      <g>
        <rect x="24" y="24" width="16" height="16" rx="3" fill="url(#metal)" stroke="#0ea5e9" stroke-width="1.5"/>
        <rect x="2" y="26" width="20" height="12" rx="2" fill="url(#panel)" stroke="#7dd3fc" stroke-width="1.5"/>
        <rect x="42" y="26" width="20" height="12" rx="2" fill="url(#panel)" stroke="#7dd3fc" stroke-width="1.5"/>
        <rect x="4" y="28" width="16" height="2" fill="#7dd3fc" opacity="0.3"/>
        <rect x="4" y="32" width="16" height="2" fill="#7dd3fc" opacity="0.3"/>
        <rect x="44" y="28" width="16" height="2" fill="#7dd3fc" opacity="0.3"/>
        <rect x="44" y="32" width="16" height="2" fill="#7dd3fc" opacity="0.3"/>
        <circle cx="32" cy="20" r="3" fill="#7dd3fc"/>
        <line x1="32" y1="20" x2="32" y2="10" stroke="#7dd3fc" stroke-width="2"/>
        <circle cx="32" cy="10" r="1.5" fill="#fff"/>
      </g>
    </svg>
  </div>

  <div class="planet" id="planet"></div>
  <div class="flame" id="flame"></div>

  <div class="launch-text" id="launchText">üöÄ Ready for Launch</div>

  <div class="text" id="t1" style="top:10%;left:25%;color:white;font-size:2rem;font-weight:800;">Explorer 6 First Viewed Earth from Space in 1959</div>
  <div class="text" id="t2" style="bottom:20%;right:15%;color:#7dd3fc;font-size:1.5rem;">Satellites Track Ice Thickness Using Laser Beams</div>
  <div class="text" id="t3" style="top:50%;left:50%;transform:translate(-50%,-50%);color:#a78bfa;font-size:3rem;font-weight:800;">SpaceX Operates 8,500+ US Satellites</div>

  <button class="btn" id="launch">‚ñ∂ Start Mission</button>
</div>

<script>
  // Starfield
  const starfield = document.getElementById('starfield');
  const numStars = 150;
  for(let i=0;i<numStars;i++){
    const s = document.createElement('div');
    s.className='star';
    const size = Math.random()*2+1;
    s.style.width=size+'px';
    s.style.height=size+'px';
    s.style.left=Math.random()*100+'vw';
    s.style.top=Math.random()*100+'vh';
    s.style.animationDelay=Math.random()*4+'s';
    starfield.appendChild(s);
  }

  const sat = document.getElementById('sat');
  const planet = document.getElementById('planet');
  const btn = document.getElementById('launch');
  const flame = document.getElementById('flame');
  const scene = document.getElementById('scene');
  const launchText = document.getElementById('launchText');
  const destination = document.getElementById('destination');
  const missionCount = document.getElementById('missionCount');
  const texts = [
    document.getElementById('t1'),
    document.getElementById('t2'),
    document.getElementById('t3')
  ];

  // Different facts for each mission
  const missionFacts = {
    1: [ // Earth mission
      "Explorer 6 First Viewed Earth from Space in 1959",
      "Satellites Track Ice Thickness Using Laser Beams",
      "SpaceX Operates 8,500+ US Satellites"
    ],
    2: [ // Mars mission
      "Satellites Help Predict Weather and Climate Change",
      "China's BeiDou System Has 900+ Satellites",
      "New Satellites Are Becoming Smaller and Cheaper"
    ],
    3: [ // Jupiter mission
      "Future Satellites Will Orbit Moon and Mars",
      "UK Runs 700 Satellites for Commercial Use",
      "Satellites Connect Internet to Remote Areas Worldwide"
    ]
  };

  let currentMission = 1;

  function dropDot(){
    const r = sat.getBoundingClientRect();
    const d = document.createElement('i');
    d.style.left = (r.left + r.width/2 + (Math.random()*8-4)) + 'px';
    d.style.top  = (r.top  + r.height/2 + (Math.random()*8-4)) + 'px';
    flame.appendChild(d);
    setTimeout(()=>d.remove(), 700);
  }

  function createStardust(){
    for(let i=0; i<3; i++){
      setTimeout(()=>{
        const star = document.createElement('div');
        star.style.cssText = `
          position:fixed;width:2px;height:2px;background:#fff;
          left:${Math.random()*100}vw;top:${Math.random()*100}vh;
          animation:starTwinkle 2s ease-in-out;pointer-events:none;z-index:1;
        `;
        document.body.appendChild(star);
        setTimeout(()=>star.remove(), 2000);
      }, i*200);
    }
  }

  // Twinkle keyframes for stardust
  const style = document.createElement('style');
  style.textContent = `
    @keyframes starTwinkle{
      0%,100%{opacity:0;transform:scale(0)}
      50%{opacity:1;transform:scale(1)}
    }
  `;
  document.head.appendChild(style);

  // ====== Audio ======
  const audioCtx = new (window.AudioContext||window.webkitAudioContext)();
  function beep(freq=880, dur=0.12, vol=0.15){
    const o = audioCtx.createOscillator();
    const g = audioCtx.createGain();
    o.type='sine'; o.frequency.value=freq; g.gain.value=vol; o.connect(g); g.connect(audioCtx.destination);
    o.start(); g.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime+dur); o.stop(audioCtx.currentTime+dur);
  }
  function rumble(dur=0.7){
    const o = audioCtx.createOscillator(); const g = audioCtx.createGain();
    o.type='sawtooth'; o.frequency.setValueAtTime(90, audioCtx.currentTime);
    g.gain.setValueAtTime(0.0001, audioCtx.currentTime);
    g.gain.exponentialRampToValueAtTime(0.08, audioCtx.currentTime+0.05);
    g.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime+dur);
    o.connect(g); g.connect(audioCtx.destination); o.start(); o.stop(audioCtx.currentTime+dur);
  }

  // Countdown
  const countEl = document.getElementById('count');
  async function countdown(n=3){
    countEl.classList.add('show');
    for(let i=n;i>0;i--){ countEl.textContent = i; beep(700); await new Promise(r=>setTimeout(r,900)); }
    countEl.textContent = 'LAUNCH'; beep(1200,0.2,0.2);
    await new Promise(r=>setTimeout(r,300));
    countEl.classList.remove('show');
  }

  // ====== HUD telemetry (ALT capped at 600) ======
  const hud = {
    alt: document.getElementById('mAlt'),
    vel: document.getElementById('mVel'),
    tmp: document.getElementById('mTmp'),
    sig: document.getElementById('mSig'),
    stat: document.getElementById('mStat')
  };
  let teleTimer;
  function startTelemetry(){
    const duration = 6000; // matches path time
    const maxAlt   = 300;  // <-- capped at 300 km
    let t=0;
    hud.stat.textContent='Launch';
    clearInterval(teleTimer);
    teleTimer = setInterval(()=>{
      t+=100; // ms
      const p = Math.min(1, t/duration); // 0..1
      hud.alt.textContent = (p*maxAlt | 0);
      hud.vel.textContent = (0.2 + p*7.5).toFixed(1);
      hud.tmp.textContent = (260 + Math.sin(p*6)*8 | 0);
      hud.sig.textContent = Math.min(100, (p*120)|0) + '%';
      if(p>=1){ 
        hud.stat.textContent='Target reached'; 
        clearInterval(teleTimer);
        // Auto-reset after 2 seconds
        setTimeout(autoLaunchNext, 2000);
      }
    },100);
  }

  function autoLaunchNext(){
    // Reset current state
    sat.classList.remove('go','show');
    planet.classList.remove('show');
    texts.forEach(el => el.classList.remove('show'));
    clearInterval(trailTimer);
    
    // Switch target
    currentMission++;
    
    // Wait for planet to fully fade before switching
    setTimeout(() => {
      // Remove all planet classes first
      planet.classList.remove('mars', 'jupiter');
      destination.classList.remove('mars', 'jupiter');
      
      // Update mission info based on mission number
      missionCount.textContent = `Mission #${currentMission}`;
      
      if(currentMission === 2){
        destination.textContent = 'üî¥ Mars';
        destination.classList.add('mars');
        planet.classList.add('mars');
      } else if(currentMission === 3){
        destination.textContent = 'üü† Jupiter';
        destination.classList.add('jupiter');
        planet.classList.add('jupiter');
      } else {
        // Default to Earth
        destination.textContent = 'üåç Earth';
      }
      
      // Reset telemetry
      hud.stat.textContent = 'Ready';
      hud.alt.textContent = '0';
      hud.vel.textContent = '0.0';
      hud.tmp.textContent = '260';
      hud.sig.textContent = '0%';
      
      // Check if we should continue or stop
      if(currentMission <= 3){
        // Auto-launch after 1 second
        setTimeout(launchSequence, 1000);
      } else {
        // Mission complete - show completion message
        hud.stat.textContent = 'Mission Complete';
        btn.textContent = 'üîÑ Restart Missions';
        btn.disabled = false;
        launched = false;
      }
    }, 1800); // Wait for planet fade transition
  }

  let trailTimer;
  let launched = false;

  async function launchSequence(){
    if(launched) return;
    launched = true;

    launchText.classList.add('hide');
    sat.classList.add('show');

    if(audioCtx.state === 'suspended') await audioCtx.resume();

    await countdown(3);
    scene.classList.add('shake');
    setTimeout(()=>scene.classList.remove('shake'), 800);
    rumble();

    setTimeout(() => {
      planet.classList.add('show');
      sat.classList.add('go');
    }, 100);

    setTimeout(() => {
      texts.forEach((el,i)=> {
        setTimeout(()=> {
          // Update text content based on current mission
          const facts = missionFacts[currentMission] || missionFacts[1];
          el.textContent = facts[i];
          el.classList.add('show');
        }, i*120);
      });
    }, 200);

    trailTimer = setInterval(dropDot, 25);
    createStardust();
    setTimeout(createStardust, 2000);
    setTimeout(createStardust, 4000);

    startTelemetry();

    setTimeout(()=> {
      clearInterval(trailTimer);
    }, 6200);

    setTimeout(()=>{
      launched = false;
    }, 8000);
  }

  btn.addEventListener('click', () => {
    if(currentMission > 3 && !launched){
      // Restart missions
      reset();
      setTimeout(launchSequence, 500);
    } else {
      launchSequence();
    }
  });

  function reset(){
    sat.classList.remove('go','show');
    planet.classList.remove('show');
    launchText.classList.remove('hide');
    texts.forEach(el => el.classList.remove('show'));
    clearInterval(trailTimer);
    currentMission = 1;
    destination.textContent = 'üåç Earth';
    destination.classList.remove('mars', 'jupiter');
    planet.classList.remove('mars', 'jupiter');
    missionCount.textContent = 'Mission #1';
    launched = false;
    btn.textContent = '‚ñ∂ Start Mission';
    btn.disabled = false;
    hud.stat.textContent = 'Ready';
    hud.alt.textContent = '0';
    hud.vel.textContent = '0.0';
    hud.tmp.textContent = '260';
    hud.sig.textContent = '0%';
  }
  btn.addEventListener('dblclick', reset);
</script>
</body>
</html>